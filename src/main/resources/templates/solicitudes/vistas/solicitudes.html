<script>
$(document).ready(function(){
	verSolicitudes();
});

idLocal=sessionStorage.getItem("idLocal");
velAnim = 250;

function verSolicitudes(){
	$("#contenido").hide(velAnim,function(){
		$("#tbody-tabla-solicitudes").html("");
		json={"idLocal":idLocal};
		$.ajax({
        	url: '/api/local/traerSolicitudesStock',
        	type: 'POST',
        	dataType: 'json',
        	data: JSON.stringify(json),
        	contentType: "application/json",
        	success:function(solicitudes){
        		console.log(solicitudes);
        		$.each(solicitudes,function(index,sol){
            		$("#tbody-tabla-solicitudes").append('<tr><th scope="row">'+sol.idSolicitudStock+'</th>'+
							'<td>'+sol.pedido.producto.nombre+'</td>'+
							'<td>'+sol.pedido.cantidad+'</td>'+
							'<td>'+sol.fechaAbierta+'</td>'+
							'<td>'+sol.pedido.local.direccion+'</td>'+
							'<td><button type="button" class="btn btn-success" onclick="">Ver</button></td>'+
							'</tr>');
            	});
        		
        		$("#vista").hide();
        		$("#solicitudes").show();
        		$("#contenido").show(velAnim);
        	},
        	error:function(response){
        		console.log(response);
        	}
		});
	});
}
</script>
<div id="contenido">
	<div id="solicitudes" class="vista" style="display: none">
		<h1>Solicitudes de Stock</h1>

		<table id="tabla-solicitudes" class="table table-hover">
		  <thead class="thead-dark">
		    <tr>
		      <th scope="col">#id</th>
		      <th scope="col">Producto</th>
		      <th scope="col">Cantidad</th>
		      <th scope="col">Fecha</th>
		      <th scope="col">Local</th>
		      <th scope="col">Accion</th>
		    </tr>
		  </thead>
		  <tbody id="tbody-tabla-solicitudes">
		  </tbody>
		</table>
	</div>
</div>